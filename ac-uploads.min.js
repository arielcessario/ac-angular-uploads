(function(){var a=document.getElementsByTagName("script");var e=a[a.length-1].src;if(e.length==0){e=window.installPath+"/ac-angular-proyectos/includes/ac-upload.php"}angular.module("acUploads",[]).directive("acUploadFiles",d).factory("UploadService",b).service("UploadVars",c);b.$inject=["UploadVars"];function b(i){var h={};h.uploadImages=g;h.addImages=f;return h;function f(m,q,p,o){for(var l=0;l<m.length;++l){var k=m.item(l);g(k,p,o);var n=-1;for(var j=0;j<i.uploadsList.length;j++){if(i.uploadsList[j].id==q){n=j}}if(n>-1){i.uploadsList[n].file=k}else{i.uploadsList.push({id:q,file:k})}}}function g(j,n,m){var l=new FormData();if(j.size>400000){alert("No se puede subir un archivo que sea mayor a 400k");return}l.append("images",j);l.append("folder",n);var k=new XMLHttpRequest();k.onprogress=function(){};k.onload=function(o){m(o)};k.onerror=function(o){m(o)};k.open("POST",e);k.send(l)}}function d(){return{restrict:"A",scope:{acUploadFiles:"&"},link:function(h,g,f,i){g.bind("change",function(){h.acUploadFiles({selectedFileList:g[0].files})})}}}function c(){this.uploadsList=[]}})();